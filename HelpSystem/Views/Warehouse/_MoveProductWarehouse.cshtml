@model IEnumerable<HelpSystem.Domain.ViewModel.Transfer.TransferProductViewModel>
<div class="accordion" id="accordionExample">
    @foreach (var productGroup in Model.GroupBy(p => p.Name))
    {
        var position = 0; // Переменная для хранения номера позиции
        <div class="accordion-item">
            <h2 class="accordion-header" id="@($"heading{productGroup.Key}")">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="@($"#collapse{productGroup.Key.Replace(" ", "-")}")" aria-expanded="true" aria-controls="@($"collapse{productGroup.Key.Replace(" ", "-")}")">
                    @productGroup.Key
                </button>
            </h2>
            <div id="@($"collapse{productGroup.Key.Replace(" ", "-")}")" class="accordion-collapse collapse" aria-labelledby="@($"heading{productGroup.Key}")" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    @foreach (var product in productGroup)
                    {
                        position++; // Увеличиваем номер позиции для каждого элемента
                        <div style="border: 2px solid gray; padding: 10px; margin-bottom: 10px; box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.4);">
                            <p>Позиция: @position</p>
                            <p style="display:none">Id: @product.Id</p>
                            <p>Наименование: @product.Name</p>
                            <p>Инвентарный код: @product.Code</p>
                            <div class="d-grid-gap-2">
                                <a class="btn btn-danger">Переместить</a>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    }
</div>



@section Scripts{
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.4.3/dist/js/bootstrap.min.js"></script>
    
}